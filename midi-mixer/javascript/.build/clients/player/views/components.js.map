{"version":3,"names":["html","_","JSON5","renderEmptyTrack","track","get","renderTrack","_setTrack","throttle","value","set","source","e","faderRaw","detail","faderUser","mute","renderParams","globals","filesystem","midiInName","target","map","name","midiOutName","controllerName","stringify","writeFile"],"sources":["../../../../src/clients/player/views/components.js"],"sourcesContent":["import { html } from 'lit';\nimport '@ircam/sc-components';\nimport _ from 'lodash';\nimport JSON5 from 'json5';\n\nexport function renderEmptyTrack(track) {\n  return html`\n    <sc-text readonly>track ${track.get('channel')} : empty</sc-text>\n  `;\n}\n\nexport function renderTrack(track) {\n  const _setTrack = _.throttle(value => track.set(value, { source: 'web' }), 50, { 'trailing': true });\n\n  return html`\n    <div>\n      <sc-text\n        readonly\n      >${`track ${track.get('channel')} : ${track.get('name')}`}</sc-text>\n      <sc-slider\n        value=${track.get('faderRaw')}\n        @input=${e => _setTrack({ faderRaw: e.detail.value })}\n      ></sc-slider>\n      <sc-number\n        min=${track.get('faderRange')[1][0]}\n        max=${track.get('faderRange')[1][1]}\n        value=${track.get('faderUser')}\n        @input=${e => _setTrack({ faderUser: e.detail.value })}\n      ></sc-number>\n      <sc-toggle\n        ?active=${track.get('mute')}\n        @change=${e => track.set({ mute: e.detail.value })}\n      ></sc-toggle>\n    </div>\n  `;\n}\n\nexport function renderParams(globals, filesystem) {\n  return html`\n    <sc-text\n      value=\"\"\n      readonly\n    >midi input device</sc-text>\n    <select\n      @change=${e => globals.set({midiInName: e.target.value}, {source:'web'})}\n    >\n      ${globals.get('selectMidiIn').map(name => {\n        return html`\n          <option value=\"${name}\" ?selected=\"${name === globals.get('midiInName')}\">\n            ${name}\n          </option>`;\n      })}\n    </select>\n    <sc-text\n      readonly\n    >midi output device</sc-text>\n    <select\n      @change=${e => globals.set({midiOutName: e.target.value}, {source:'web'})}\n    >\n      ${globals.get('selectMidiOut').map(name => {\n        return html`\n          <option value=\"${name}\" ?selected=\"${name === globals.get('midiOutName')}\">\n            ${name}\n          </option>`;\n      })}\n    </select>\n    <sc-text\n      value=\"controller\"\n      readonly\n    ></sc-text>\n    <select\n      @change=${e => globals.set({controllerName: e.target.value}, {source: 'web'})}\n    >\n      ${globals.get('selectControllers').map(name => {\n        return html`\n          <option value=\"${name}\" ?selected=\"${name === globals.get('controllerName')}\">\n            ${name}\n          </option>`;\n      })}\n    </select>\n    <sc-editor\n      value=\"${JSON5.stringify(globals.get('config'), null, 2)}\"\n      @change=${e => filesystem.writeFile('example-1.json', e.detail.value)}\n    ></sc-editor>\n  `;\n}\n"],"mappings":"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"}
